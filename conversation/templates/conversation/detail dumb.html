{% extends 'core/base.html'%}

{% block title %} Inbox {% endblock %}

{% block content %}
<div class="w-3/4 mx-auto border-solid border-green-700 p-8 bg-gray-600">
    
    <form method="post" action="." class="mt-6">
        <!-- Below section was above the form -->
        <h1 class="mb-6 text-3xl text-white text-center">Conversation</h1>
        <hr class="bg-white">
        <div class="space-y-6">
            {% for message in conversation.messages.all %}
            <!-- rgb(165 205 255) -->
            
            <div class="p-6 flex rounded-full mt-3 w-auto{% if message.created_by == request.user %} bg-blue-400 text-black rounded-br-none {% else %} bg-gray-800 text-white rounded-bl-none{% endif %}">
                <div>
                    <p class="mb-4"><strong>{{ message.created_by }} @ {{ message.created_at }}</strong></p>
                    <p>{{ message.content }}</p>
                </div>
            </div>
            
            {% endfor %}
        </div>
        <!-- End -->

        <!-- Below section formed the form -->
         
        <!-- {% csrf_token %}
        
        {{ form.as_p }} -->
        
        <!-- <button class="py-4 px-8 text-lg bg-teal-500 hover:bg-teal-700 rounded-xl text-white font-semibold">Send</button> -->

        <!-- End -->
        
        <!-- Below is a new content on the ui -->
        
        <div class="h-screen flex flex-col">
            <div class="bg-gray-200 flex-1 overflow-y-scroll">
                <div class="px-4 py-2">
                    <div class="flex items-center mb-2">
                        <img src="#" alt="Test" class="w-8 h-8 rounded-full mr-2">
                        <div class="font-medium">John Doe</div>
                    </div>
                    <div class="bg-white rounded-lg p-2 shadow mb-2 max-w-sm">
                        Hi, how can I help you?
                    </div>
                    <div class="flex items-center justify-end">
                        <div class="bg-blue-500  text-white rounded-lg p-2 shadow mr-2 max-w-sm">
                            Sure, I can help with that.
                        </div>
                        <img src="#" alt="Test2" class="w-8 h-8 rounded-full">
                    </div>
                </div>
            </div>
            <div class="bg-gray-100 px-4 py-2">
                <div class="flex items-center">
                    <input class="w-full border rounded-full py-2 px-4 mr-2" type="text" placeholder="Type your message here...">
                    <button class="bg-blue-500 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-full">Send</button>
                </div>
            </div>
        </div>
        <!-- End -->
    </form>
    
    
</div>
{% endblock %}